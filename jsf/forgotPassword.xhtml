<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="WEB-INF/templetes/first.xhtml">
	<ui:define name="title">Login</ui:define>
	<ui:define name="content">
	    <div class="article">
			  <div style="width:300px;float:right">
			  <h2><span>User login</span></h2>
			  <div class="clr"></div>
			  	<f:view>
			  		<h:form id="frm">
			  			<h:panelGrid width="300" columns="2">
			  				
			  				<h:outputText value=""/>
			  				<h:message for="email"/>
			  				
			  				<h:outputText value="*Security Question:"/>
			  				<h:inputText id="sec_qsn" value="#{forgotPasswordBean.secqus}" required="true" requiredMessage="Security Question can not be blank"/>
			  				
			  				<h:outputText value=""/>
			  				<h:message for="sec_qsn"/>
			  				
			  				<h:outputText value="*Security Answer:"/>
			  				<h:inputText id="sec_ans" value="#{forgotPasswordBean.secans}" required="true" requiredMessage="Security Answer can not be blank"/>
			  				
			  				<h:outputText value=""/>
			  				<h:message for="sec_ans"/>
			  				
			  				<h:outputText value=""/>
			  				<h:commandButton id="btnReg" value="Submit" actionListener="#{forgotPasswordBean.ansMatch}"/>
			  				<h:outputText value=""/>
			  				<h:outputText value=""/>
			  			</h:panelGrid>	
			  			<h:outputText value="#{forgotPasswordBean.message}" style="color:red;font-weight:bold"/>
			  			
			  			<h:outputText value="Your answer not matched" style="color:red;font-weight:bold" rendered="#{!forgotPasswordBean.ansMatched}"/>
			  			<h:panelGrid rendered="#{forgotPasswordBean.ansMatched}">
			  			   <h:outputText value="New Password" />
			  			   <h:inputSecret value="#{forgotPasswordBean.password}" id="passswd"/>
			  			   <h:outputText value="Confirm Password" />
			  			   <h:inputSecret value="#{forgotPasswordBean.confpasswd}" id="confpassswd"/>
			  			   <h:outputText value=""/>
			  			   <h:commandButton value="submit" id="btnSubmit" action="#{registrationBean.newPassword(forgotPasswordBean.password)}"/>
			  			</h:panelGrid>	  			
			  </h:form> 
			  		
			  	</f:view>	  
			    <div class="clr"></div>
			  </div>
		</div>
	</ui:define>
</ui:composition>
</html>


